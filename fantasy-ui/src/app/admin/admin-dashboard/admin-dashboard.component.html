<div class="admin-dashboard">
  <h2>⚙️ Admin Dashboard</h2>

  <!-- Search -->
  <input type="text" placeholder="Search users..." [(ngModel)]="searchQuery" (input)="searchUsers()" />

  <!-- Users Table -->
  <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>Username</th>
        <th>Email</th>
        <th>Balance</th>
        <th>Status</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
    <tr *ngFor="let user of filteredUsers">
        <td>{{ user.id }}</td>
        <td>{{ user.username }}</td>
        <td>{{ user.email }}</td>
        <td>{{ user.balance }}</td>
        <td>
        <span *ngIf="!user.active">Permanently banned</span>
        <span *ngIf="user.active && isTemporarilyBanned(user)">
            Temporarily banned until {{ user.bannedUntil | date:'yyyy-MM-dd' }}
        </span>
        <span *ngIf="user.active && !isTemporarilyBanned(user)">
            Active
        </span>
        </td>
        <td>
        <input type="number" [(ngModel)]="amount" placeholder="Amount" />
        <button (click)="creditBalance(user.id)">💰 Credit</button>
        <button (click)="debitBalance(user.id)">💸 Debit</button>
        <button (click)="banUser(user.id, 7)">⏳ Temp Ban 7d</button>
        <button (click)="banUser(user.id)">🚫 Ban Permanent</button>
        <button (click)="unbanUser(user.id)">✅ Unban</button>
        </td>
    </tr>
    </tbody>

  </table>

  <!-- Message -->
  <div *ngIf="message">
    <p><strong>Response:</strong> {{ message }}</p>
  </div>
</div>
